@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
  --primary: #1f2937;
  --primary-foreground: #ffffff;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

/* 移除深色模式，统一使用白色背景 */
@media (prefers-color-scheme: dark) {
  :root {
    --background: #ffffff;
    --foreground: #171717;
  }
  
  html,
  body {
    background: #ffffff !important;
  }
}

body {
  background: #ffffff;
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* 修复加载页面黑色背景问题 */
html {
  background: #ffffff;
}

/* Next.js 加载状态优化 */
#__next {
  background: #ffffff;
}
/* 黑色主题样式 */
.btn-primary {
  background-color: var(--primary);
  color: var(--primary-foreground);
  border-color: var(--primary);
}

.btn-primary:hover {
  background-color: #374151;
  border-color: #374151;
}

.text-primary {
  color: var(--primary);
}

.border-primary {
  border-color: var(--primary);
}

.focus\:ring-primary:focus {
  --tw-ring-color: var(--primary);
}

/* Ant Design 组件黑色主题覆盖 */
.ant-btn-primary {
  background-color: #1f2937 !important;
  border-color: #1f2937 !important;
}

.ant-btn-primary:hover {
  background-color: #374151 !important;
  border-color: #374151 !important;
}

.ant-btn-primary:focus {
  background-color: #1f2937 !important;
  border-color: #1f2937 !important;
}

.ant-btn-primary:active {
  background-color: #1f2937 !important;
  border-color: #1f2937 !important;
}

/* 链接颜色 */
a {
  color: #1f2937;
}

a:hover {
  color: #374151;
}

/* 选中状态 */
.selected, .active {
  color: #1f2937 !important;
}

/* 边框颜色 */
.border-primary {
  border-color: #1f2937 !important;
}

/* 背景色 */
.bg-primary {
  background-color: #1f2937 !important;
}

/* Header 语言选择器样式 */
header select {
  color: white !important;
  background-color: #1f2937 !important;
}

header select option {
  color: white !important;
  background-color: #1f2937 !important;
}

/* 自定义样式 */
.sidebar-transition {
  transition: all 0.3s ease-in-out;
}

.content-transition {
  transition: all 0.3s ease-in-out;
}

/* 响应式设计 */

/* iPad 横屏和竖屏 (768px - 1024px) */
@media only screen and (min-width: 768px) and (max-width: 1024px) {
  /* 移除桌面端最小宽度限制 */
  .min-w-\[1200px\] {
    min-width: 100% !important;
  }

  /* 表格字体和间距优化 */
  .ant-table {
    font-size: 13px;
  }

  .ant-table-thead > tr > th {
    padding: 10px 8px;
  }

  .ant-table-tbody > tr > td {
    padding: 10px 8px;
    min-height: 44px;
  }

  /* 按钮触摸友好 */
  .ant-btn {
    min-height: 40px;
    padding: 8px 16px;
  }

  /* 输入框触摸友好 */
  .ant-input,
  .ant-select-selector,
  .ant-input-number,
  .ant-picker {
    min-height: 40px;
  }

  /* 下拉菜单项触摸友好 */
  .ant-dropdown-menu-item {
    min-height: 44px;
    padding: 10px 12px;
  }

  /* iPad 竖屏特殊优化 */
  @media (orientation: portrait) {
    /* 表格横向滚动 */
    .ant-table-wrapper {
      overflow-x: auto;
    }

    /* 抽屉宽度限制 */
    .ant-drawer-content-wrapper {
      max-width: 90vw !important;
    }

    /* 紧凑间距 */
    .ant-card-body {
      padding: 12px;
    }

    .ant-form-item {
      margin-bottom: 10px;
    }
  }
}

/* 手机端 (< 768px) */
@media (max-width: 767px) {
  /* 移除最小宽度 */
  .min-w-\[1200px\] {
    min-width: 100% !important;
  }

  /* 表格紧凑模式 */
  .ant-table {
    font-size: 12px;
  }

  .ant-table-thead > tr > th,
  .ant-table-tbody > tr > td {
    padding: 8px 4px;
  }

  /* 表格横向滚动 */
  .ant-table-wrapper {
    overflow-x: auto;
  }

  /* 按钮触摸友好 */
  .ant-btn {
    min-height: 44px;
  }

  /* 输入框触摸友好 */
  .ant-input,
  .ant-select-selector {
    min-height: 44px;
  }

  /* 抽屉全屏 */
  .ant-drawer-content-wrapper {
    width: 100vw !important;
    max-width: 100vw !important;
  }

  /* Modal 适配 */
  .ant-modal {
    max-width: 95vw !important;
    margin: 8px auto !important;
  }

  .sidebar-mobile {
    position: fixed;
    top: 0;
    left: -100%;
    z-index: 50;
    height: 100vh;
    transition: left 0.3s ease-in-out;
  }
  
  .sidebar-mobile.open {
    left: 0;
  }
  
  .sidebar-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 40;
  }
}

/* 触摸优化 - 所有触摸设备 */
@media (hover: none) and (pointer: coarse) {
  /* 防止双击缩放 */
  * {
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
  }

  /* 优化文本选择 */
  * {
    -webkit-user-select: none;
    user-select: none;
  }

  input,
  textarea,
  .ant-input,
  .ant-input-number-input {
    -webkit-user-select: text;
    user-select: text;
  }

  /* 滚动条优化 */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 4px;
  }
}
